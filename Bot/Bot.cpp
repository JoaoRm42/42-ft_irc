# include "../libs.hpp"

std::string Server::BotJokes() {
	std::vector<std::string> jokes;
	jokes.push_back("When the window fell into the incinerator, it was a pane in the ash to retrieve.");
	jokes.push_back("What's a pirate's favorite letter? It be the Sea");
	jokes.push_back("How do you count cows? A 'Cow'culator");
	jokes.push_back("Did you hear about the guy whose whole left side was cut off? He's all right now.");
	jokes.push_back("My friend's bakery burned down last night. Now his business is toast.");
	jokes.push_back("Two peanuts were walking down the street. One was a salted.");
	jokes.push_back("My son asked me to stop singing Oasis songs in public. I said maybe.");
	jokes.push_back("I used to be a banker but I lost interest");
	jokes.push_back("Why did the golfer bring two pairs of pants? In case he got a hole-in-one.");
	jokes.push_back("To the man in the wheelchair that stole my camouflage jacket; You can hide, but you can't run.");
	jokes.push_back("When my wife told me to stop impersonating a flamingo, I had to put my foot down.");
	jokes.push_back("The rotation of earth really makes my day.");
	jokes.push_back("Why do chicken coops only have two doors? Because if they had four, they would be chicken sedans.");
	jokes.push_back("How do you find Will Smith in the snow? You look for the fresh prints.");
	jokes.push_back("A proton, an electron, & a neutron walk into a bar. The proton orders a shot, drinks it, pulls out his wallet, and pays the bartender. The electron orders a shot, drinks it, pulls out his wallet, and pays the bartender. The neutron orders a shot, drinks it, then pulls out his wallet. The bartender stops him and says, \"for you, no charge...\"");
	jokes.push_back("Two atoms are walking down the street. One says, \"Oh no! I lost an electron!\", The other asks him, \"Are you sure?\", The first one says, \"Yeah, I'm positive\"");
	jokes.push_back("A ham sandwich walks into a bar and orders a beer. The bartender looks at him and says, \"Sorry we don't serve food here.\"");
	jokes.push_back("What is Beethoven's favorite fruit? A ba-na-na-na.");
	jokes.push_back("I had a dream that I was a muffler last night. I woke up exhausted.");
	jokes.push_back("Two guys walk into a bar, the third one ducks.");
	jokes.push_back("What time did the man go to the dentist? Tooth hurt-y.");
	jokes.push_back("Found out I was colour blind the other day... That one came right out the purple.");
	jokes.push_back("Where are average things built? In the satisfactory.");
	jokes.push_back("Yesterday a clown held a door open for me. I thought it was a nice jester.");
	jokes.push_back("Just read a few facts about frogs. They were ribbiting.");
	jokes.push_back("I just swapped our bed for a trampoline. My wife hit the roof.");
	jokes.push_back("Astronomers got tired of watching the moon go round the earth for 24 hours, so they decided to call it a day.");
	jokes.push_back("I asked the checkout girl for a date. She said \"They're in the fruit aisle next to the bananas.\"");
	jokes.push_back("What's the difference between a well dressed man on a a bicycle and a poorly dressed man on a tricycle? Attire!");
	jokes.push_back("What did the pirate say on his 80th birthday? Aye matey");
	jokes.push_back("What do you call a sketchy Italian neighbourhood? The Spaghetto.");
	jokes.push_back("I have kleptomania, but when it gets bad, I take something for it.");
	jokes.push_back("Doorbells, don't knock 'em.");
	jokes.push_back("My wife is on a tropical food diet, the house is full of the stuff. It's enough to make a mango crazy.");
	jokes.push_back("Whiteboards are remarkable.");
	jokes.push_back("Why do so many people with laser hair want to get it removed?");
	jokes.push_back("What has twenty legs and flies? Ten pairs of pants.");
	jokes.push_back("What has twenty legs and flies? Five dead Horses.");
	jokes.push_back("What do you call a fish with no eyes? Fsh.");
	jokes.push_back("What do you get if you cross the Atlantic with the Titanic? About halfway.");
	jokes.push_back("Why do bakers work so hard? They knead the dough.");
	jokes.push_back("What do you call a man with a rug on his head? Matt.");
	jokes.push_back("Why shouldn't you play cards in the jungle? Too many cheetahs.");
	jokes.push_back("What's big, red, and eats rocks? A big, red, rock-eater.");
	jokes.push_back("How do you make toast in the jungle? Pop your bread under a g'rilla.");
	jokes.push_back("What lies on the ocean floor and shivers? A nervous wreck.");
	jokes.push_back("Who is the quickest draw in the ocean? Billy the Squid.");
	jokes.push_back("What's the difference between a jeweller and a prison warden? One sells watches, and the other watches cells.");
	jokes.push_back("What's brown and sticky? A stick.");
	jokes.push_back("Why did the banana go to the doctors'? He wasn't peeling very well.");
	jokes.push_back("Where did Napoleon keep his armies? Up his sleevies.");
	jokes.push_back("Where are the Andes? At the end of your armies.");
	jokes.push_back("What do you get when you run over a bird with your lawnmower? Shredded tweet.");
	jokes.push_back("What do you get if you drop a piano down a coal shaft? A flat minor.");
	jokes.push_back("How does a burglar get into your house? Intruder window.");
	jokes.push_back("What's worse than finding a worm in your apple? Finding half a worm.");
	jokes.push_back("What is the richest country in the world? Ireland. Its capital is always Dublin.");
	jokes.push_back("What do you call a sheep with no legs? A cloud.");
	jokes.push_back("What was Beethoven's fifth favorite fruit? Ba-na-na-na.");
	jokes.push_back("What did the green grape say to the purple grape? Breathe, you fool, breathe!");
	jokes.push_back("How do you turn a duck into a soul singer? Put it in a microwave until its bill withers.");
	jokes.push_back("Last night me and my girlfriend watched three movies back to back. Luckily I was the one facing the TV.");
	jokes.push_back("I've deleted the phone numbers of all the Germans I know from my mobile phone. Now it's Hans free.");
	jokes.push_back("Why did the octopus beat the shark in a fight? Because it was well armed.");
	jokes.push_back("A red and a blue ship have just collided in the Caribbean. Apparently the survivors are marooned.");
	jokes.push_back("What's the advantage of living in Switzerland? Well, the flag is a big plus.");
	jokes.push_back("I am terrified of elevators. I'm going to start taking steps to avoid them.");
	jokes.push_back("I dreamed about drowning in an ocean made out of orange soda last night. It took me a while to work out it was just a Fanta sea.");
	jokes.push_back("My cat just threw up on the carpet. I don't think it's feline well.");
	jokes.push_back("I went to the doctor today and he told me I had type A blood, but it was a type O.");
	jokes.push_back("Today a girl said she recognized me from vegetarian club, but I'm sure I've never met herbivore.");
	jokes.push_back("Why do crabs never give to charity? Because they're shellfish.");
	jokes.push_back("People keep making apocalypse jokes like there's no tomorrow.");
	jokes.push_back("If you're struggling to think of what to get someone for Christmas. Get them a fridge, and watch their face light up when they open it.");
	jokes.push_back("I was thinking about moving to Moscow but there is no point Russian into things.");
	jokes.push_back("Did you hear about the new restaurant on the moon? The food is great, but there's just no atmosphere.");
	jokes.push_back("Milk is also the fastest liquid on earth. It's pasteurized before you even see it.");
	jokes.push_back("Did you hear that the police have a warrant out on a midget psychic ripping people off? It reads \"Small medium at large.\"");
	jokes.push_back("A steak pun is a rare medium well done.");
	jokes.push_back("Singing in the shower is all fun and games until you get shampoo in your mouth. Then it's a soap opera.");
	jokes.push_back("Why can't you hear a pterodactyl using the bathroom? Because the P is silent.");
	jokes.push_back("The price of bouncy castles have doubled this year. That's inflation for you.");
	jokes.push_back("Whenever I want to start eating healthy, a chocolate bar looks at me and Snickers.");
	jokes.push_back("What do you get hanging off banana trees? Sore arms.");
	jokes.push_back("I hate perforated lines, they're tearable.");
	jokes.push_back("What do you call a fat psychic? A four-chin teller.");
	jokes.push_back("A Mexican magician says he'll disappear on the count of 3; \"Uno... dos... poof...\". He disappeared without a tres.");
	jokes.push_back("What's the difference between a hippo and a Zippo? One is heavy, and the other is a little lighter.");

	// Seed the random number generator
	std::srand(static_cast<unsigned int>(std::time(NULL)));

	// Generate a random index within the range of the vector size
	int randomIndex = std::rand() % jokes.size();

	// Return the joke at the random index
	return jokes[randomIndex];
}

void Server::BotJoinChannel(const std::string& channel) {
	std::string msgJoin = "JOIN " + channel + "\r\n";
    sendMessage(this->_socketFdBot, msgJoin);
}

void Server::createBot(const std::string& server, int port) {
    this->_socketFdBot  = socket(AF_INET, SOCK_STREAM, 0);
	struct sockaddr_in server_addr;
	struct hostent *server_host;

	server_host = gethostbyname(server.c_str());
	if (server_host == NULL) {
		std::cout << "Error, no such host" << std::endl;
		return;
	}

	if (this->_socketFdBot  < 0) {
		std::cout << "Error opening socket" << std::endl;
		return;
	}

	memset((char *) &server_addr, 0, sizeof(server_addr));
	server_addr.sin_family = AF_INET;
	memcpy((char *) &server_addr.sin_addr.s_addr, (char *) server_host->h_addr, server_host->h_length);
	server_addr.sin_port = htons(port);
	if (connect(this->_socketFdBot , (struct sockaddr *) &server_addr, sizeof(server_addr)) < 0) {
		std::cout << "Error connecting" << std::endl;
		close(this->_socketFdBot );
		return;
	}

    std::string msgPass = "PASS " + getPassword() + "\r\n";
	std::string msgNick = "NICK BOT\r\n";
	std::string msgUser = "USER BOT 0 * :realname\r\n";

    sendMessage(this->_socketFdBot, msgPass);
    sendMessage(this->_socketFdBot, msgNick);
    sendMessage(this->_socketFdBot, msgUser);
}
